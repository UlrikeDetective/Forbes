---
title: "companies"
author: "Ulrike Herold"
date: "2024-08-31"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Read in Data

```{r}
library(readr)

Sys.setlocale("LC_NUMERIC", "en_US.UTF-8")

C01 <- read.csv("/Users/ulrike_imac_air/projects/DataScienceProjects/Forbes/Companies/companies_raw/01_CompaniesRankedByMarketCap.csv", stringsAsFactors = FALSE)

str(C01)
C01
```



```{r}
# Step 1: Read the CSV file, force 'price..USD' as character
data <- read.csv("/Users/ulrike_imac_air/projects/DataScienceProjects/Forbes/Companies/companies_raw/01_CompaniesRankedByMarketCap.csv", stringsAsFactors = FALSE, colClasses = c("price..USD" = "character"))

# Step 2: Replace commas with points (if needed) and convert to numeric
data$price..USD <- as.numeric(gsub(",", ".", data$price..USD))

# Step 3: Format the numbers to two decimal places with commas as thousand separators
data$price..USD <- format(data$price..USD, nsmall = 2, big.mark = ",")

# Step 3: Check the structure and head of the data
str(data)
head(data)

```

```{r}
# Assuming your data is already read and formatted
# Generate User_ID as a sequence from 1 to the number of rows in the dataframe
data$User_ID <- 1:nrow(data)

# Reorder the columns to place User_ID as the first column
data <- data[, c("User_ID", names(data)[-ncol(data)])]

# Check the structure and the first few rows
str(data)
head(data)
```

